/* Here are our lovely colors: */
$wbGreen: #bbefce;
$wbGreenDark: #a1d0b1;
$wbBlue: #93d2d0;
$wbBlueDark: #679a98;
$wbRed: #dc6a4c;
$wbRedDark: #a7442a;

/* Change Bootstrap variables before importing */
$sansFontFamily: "Open Sans", sans-serif;
$navbarBackground: $wbGreenDark;
$navbarBackgroundHighlight: $wbGreen;

$linkColor: $wbBlueDark;
$linkColorHover: darken($wbBlue, 5%);

@import "bootstrap";
// This does things automatically and breaks layout, figure out what we need from there.
//@import "bootstrap-responsive"; 

/* Open Sans Font as requested by @paigepauli */
@import url(http://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,600,700);

@mixin shadow-black($opacity) {
  text-shadow: 0 -1px 0 rgba(0, 0, 0, $opacity);
}

@mixin stretch($offset-top: 0, $offset-right: 0, $offset-bottom: 0, $offset-left: 0) {
  position: absolute;
  @if $offset-top { top: $offset-top; }
  @if $offset-bottom { bottom: $offset-bottom; }
  @if $offset-left { left: $offset-left; }
  @if $offset-right { right: $offset-right; } 
}

$navbar_height: 40px;
$title_height: 30px;
$sidebar_width: 400px;
$sidebar_margin: 12px;
$map_height: 150px;

body {
  background: url('<%= image_path("background/background-stripes.png") %>') repeat #dcdcd7;
}

#container {
  margin-top: $navbar_height;
}

#splash {
  @include clearfix();
  margin-top: $navbar_height;
  max-width: 900px;
  margin: auto;
}

#map {
  @include stretch($navbar_height, 0, 0, $sidebar_width);
}

header {
  padding: 0 $sidebar_margin;
  color: white;
  text-transform: uppercase;
  @include box-shadow(0 2px 4px rgba(0,0,0,0.25));
  @include shadow-black(0.25);
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600; 
  }
}
header.red {
  border-top: 1px solid #f48668;
  border-bottom: 1px solid #762a16;
  @include gradient-vertical(#dc6a4c, #a7442a);
}
header.gray {
  border-bottom: 1px solid #57564d;
  @include gradient-vertical(#939285, #7a796e);
}
header.blue {
  border-top: 1px solid #5e9b99;
  border-bottom: 1px solid #5e9b99;
  @include shadow-black(0.25);
  @include gradient-vertical(#93d2d0, #679a98);
}

#title {
  header {
    height: $title_height;
    h3 {
      line-height: $title_height;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
  }
}

#navigation {
  min-width: 320px;
  width: $sidebar_width;
  float: left;
  // padding: 10px 0;

  ol {
    z-index: -1;
    li {
      color: #565656;
      // height: 50px;
      border-top: 1px solid #f3f3f3;
      border-bottom: 1px solid #ababab;
      @include gradient-vertical(#e1e0e0, #d2d2d2)
    }
  }

  .itineraries, .segments, .arrivals, .routes {
    list-style: none;
    margin: 0;
    @include clearfix();
    // li:last-child  { border-bottom: none; }
  }

  // .routes { margin: $sidebar_margin; }
  .routes li { 
    float: left;
    margin: 5px 5px 0 0;
  }

  .itinerary {
    margin: 5px 0;
    border-bottom: 1px solid $grayLight; 
    h4 { 
      padding: 5px $sidebar_margin; 
      cursor: pointer; 
      small { color: lightgrey; }
    }
  }

  .segments { z-index: 0; }
  .segment, .arrival {
    @include clearfix();
    padding: 8px $sidebar_margin;
    // border-top: 1px dashed $tableBorder;
  }
  .segment:hover {
    background-color: $tableBackgroundHover;
  }
  .segment .label {
    float: right;
    margin-left: 5px;
  }
  .progress {
    margin: $sidebar_margin;
    .bar { width: 100% }
  }
  .real-time {
    display: none;
  }
  .alert {
    margin: 0 $sidebar_margin 10px;
    display: none;
  }
}

@media (max-width: 768px) {
  #map {
    top: $navbar_height + $title_height;
    left: 0;
    height: $map_height;
    z-index: -1;
  }
  .leaflet-control-attribution {
    font-size: 9px;
  }
  #navigation {
    margin-top: $map_height;
    width: 100%;

  }
}

@media (min-width: 769px) {
  .subnav { 
	width: 400px; 
	text-overflow:ellipsis; 
  h3 {
	font-size:1rem;
  }
  }

}



/*Pacifico Font setup for WhichBus */
@font-face {
  font-family: 'PacificoRegular';
  src: url('/pacifico/Pacifico-webfont.eot');
  src: url('/pacifico/Pacifico-webfont.eot?#iefix') format('embedded-opentype'), url('/pacifico/Pacifico-webfont.woff') format('woff'), url('/pacifico/Pacifico-webfont.ttf') format('truetype'), url('/pacifico/Pacifico-webfont.svg#PacificoRegular') format('svg');
  font-weight: normal;
  font-style: normal;
}

.pacifico {
  font-family: 'PacificoRegular', Arial, sans-serif;
  line-height: 2rem;
  letter-spacing: 0;
}

#whichbus {
  font-size: 2em;
  line-height: 1.4em;
  text-decoration: none;
  color: white;
  @include shadow-black(0.25);
}
.whichbus-nav{
  text-align:center;
}

#menu-btn {
  margin-left:-40px;
}

#menu{
  display: none;
  position:absolute;
  right:2.5%;
  min-width: 40%;
  float: right;
  background-color: whitesmoke;
  z-index: 1000;
  margin-top: 50px;
  color: dimgrey;
  font-size:1.2em;
  padding:5px;
}

#menu-search{
  background-color:dimgrey;
}

#menu ul {
  list-style-type: none;
  margin:5px;
  background-color:whitesmoke;
}

#menu li {
  border-top: 1px solid lightgrey;
}

#menu li span {
  margin-left:20px;
}
#menu-list{
  background-color:whitesmoke;
}


.row-fluid [class*="span"].centered {
  margin-left: auto;
  margin-right: auto;
  display: block;
  float: none;
}

.logo {
  margin-top: 30px;
  margin-bottom: 20px;
}

.directions {
  @include box-shadow(0 0 3px 1px rgba(0,0,0,0.15));
  @include border-radius(10px);
  border: 1px solid #adaca1;
  background: url('<%= image_path("background/directions.png") %>') repeat #cdcabf;

  $borderRadius: 7px;

  h2 { 
    font-weight: normal;
    text-align: center;
    margin: 20px auto 15px;
    color: white; 
    @include shadow-black(0.20);
  }

  table {
    tr { margin-bottom: 15px; }
    tr:last-child { margin-bottom: 0; }
    td { padding: 0;}

    input.location {
      @include size(43px, 98%);
      margin: 0px;
      padding: 0px 1%;
      font-size: 18px;
      font-weight: 300;
      line-height: 1.3em;
      text-align: center;
      @include box-shadow(0px 2px 8px 0px rgba(0, 0, 0, 0.15) inset);
      @include border-radius($borderRadius 0 0 $borderRadius);
      @include placeholder(#94978C);
    }
    button.geolocate {
      @include size(45px, 47px);
      margin-left: -1px;
      border: 1px solid #ADACA1;
      @include border-radius(0 $borderRadius $borderRadius 0);
    }
  }

  form .row-fluid {
    margin-bottom: 15px;
  }

  .input-append {
    position: relative;
    height: 45px;
    input, button { 
      display: inline !important; 
      float: none !important;
    }
  }

  input.location:focus {
    // border-color: rgba(82, 168, 236, 0.8);
    // @include box-shadow(0px 2px 8px 0px rgba(82, 168, 236, 0.15) inset);
  }

  .btn.btn-map {
    height: 45px;
    color: white;
    font-size: 18px;
    font-weight: 700;
    border: 1px solid #5e9b99;
    @include shadow-black(0.25);
    @include gradientBar($wbBlue, $wbBlueDark);
    @include border-radius($borderRadius);
    background-color: darken($wbBlueDark, 1%);
  }
}

.footer {
  display: none !important;  // HIDING THE LOGIN | SIGN UP FOOTER FOR NOW
  margin-top: 12px;
  margin-bottom: 15px;
  text-align: center;
  font-weight: 700;
  font-size: 14px;
  color: #666;
  a {
    text-decoration: none;
    @include shadow-black(0.25);
    color: #666;
  }
  a:hover {
    color: white;
    border-bottom: 2px white dotted;
    @include shadow-black(0.15);
  }
}

.copyright {
  padding: 20px 0 5px 5px;
  font-size: 11px;
  .copy { 
    font-size: 14px; 
    font-weight: 300; 
    vertical-align: middle;
  }
}

.bus {
  @include size(24px, 20px);
  @include stretch(8px, false, false, 15px);
  background: url('<%= image_path("icons/icon-bus.png") %>') no-repeat;
}

.settings {
  @include square(20px);
  @include stretch(9px, 15px, false, false);
  background: url('<%= image_path("icons/icon-settings.png") %>') no-repeat;
}

.favorite {
  @include size(15px, 20px);
  float: right;
  margin-top: 6px;
  background: url('<%= image_path("icons/icon-favorite.png") %>') no-repeat;
}
.favorite.active, .favorite:hover {
  background-position: 0 -15px;
}
.favorite.active:hover { background-position: 0 0; }

.btn.btn-route {
  color: white;
  font-size: 16px;
  font-weight: 700;
  padding: 4px 8px;
  min-width: 30px;
  vertical-align: middle;
  border: 1px solid #748c7d;
  @include shadow-black(0.25);
  @include gradient-vertical(#bfe4cd, #90b89f)
}

.leaflet-control-zoom-in {
  background-image: url('<%= image_path("vendor/leaflet/images/zoom-in.png") %>');
}
.leaflet-control-zoom-out {
  background-image: url('<%= image_path("vendor/leaflet/images/zoom-out.png") %>');
}
